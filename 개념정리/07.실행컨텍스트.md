# 실행컨텍스트란?

**실행 가능한 코드를 형상화하고 구분하는 추상적인 개념**

보통 c언어나 c++ 등에서는 스코프에 대한 정보 흐름을 스택으로 표현한다. 새로운 함수 등 흐림이 시작되면 스택 영역의 가장 위에 푸시하여 정보를 저장한다. 그리고 변수를 사용할 때 스택의 top에 있는 정보를 사용한다. 자바스크립트도 이러한 것을 추상적으로 구현하기 위해 실행컨텍스트를 정의하였다.

# 실행컨텍스트 종류

**1. 전역코드의 실행컨텍스트**

- 전역 객체의 실행컨텍스트(Global Object)
- 전역 객체는 1개뿐
- 객체의 프로퍼티를 통해 전역변수, 전역함수 등 어디든 접근 가능

**2. 함수코드의 실행컨텍스트**

- 함수 정보가 저장되는 객체의 실행컨텍스트

# 실행컨텍스트 생성 및 파기 과정

**1. 스코프 정보 생성**

- 현재 실행컨텍스트의 유효범위를 나타내는 정보 생성
- 그 정보에는 어떤 것들끼리 연결되어있는지 담겨있음
- 스코프 체인으로 상위 컨텍스트 변수 접근 가능
- 정보는 리스트 형태로 생성
- [[scope]] 프로퍼티로 리스트 참조 가능
- 리스트에서 찾지 못한 변수는 undefined

**2. 변수 객체 생성**

- 실행에 필요한 여러 정보를 담음
- 전역 실행컨텍스트에서는 글로벌오브젝트가 변수 객체 역할
- 함수 코드 실행 컨텍스트는 변수 객체를 하나씩 생성
- 변수 객체 세팅은 아래의 순서로.
    - 매개변수가 객체의 프로퍼티로, 인수가 그 프로퍼티의 값으로 됨.
    - 함수명이 객체의 프로퍼티로, 함수 객체가 값으로 됨.(함수 표현식은 제외)
    - 변수명이 프로퍼티로, undefined가 값으로 됨.

**3. this 바인딩**

- this 키워드를 통해 참조되는 값이 바인딩됨.
- 모든 실행컨텍스트와 연관.
- 객체의 스코프 프로퍼티에 값이 없으면 전역객체의 값을 참조

**4. 코드 실행**

- 변수 객체가 생성되고 프로퍼티와 this 바인딩이 모두 세팅되면 실행
- 변수 객체에서 대입되지 않고 undefined였는데, 그 값이 여기서 대입 됨.

**5. 실행컨텍스트 파기**

- 함수 실행이 끝나면 해당 함수의 실행컨텍스트는 파기
- 전역 실행컨텍스트는 어플리케이션 종료 시 파기